>
<think>
To extract datasets from the research paper titled "Proceedings of the 2001 IEEE/RSJ International Conference on Intelligent Robots and SystemsMaui, Hawaii, USA, Oct. 29 - Nov. 03, 2001The D Linear Inverted Pendulum Mode A simple modeling for abiped walking pattern generationShuuji Ka jita Fumio Kanehiro Kenji Kaneko Kazuhito Yok oiand Hirohisa Hiruka waNational Institute of Advanced Industrial Science and Technology AISTUmezono Tsukuba Ibaraki JapanEmail ska jitaaistgojpAbstractThe modeling the ThreeDimensional Linear Inv ertedP endulum Mode DLIPM is derived from a generalF or D walking contr ol of a biped robot we analyzethreedimensional inv erted pendulum whose motion isthe dynamics of a thr eedimensional inverted p enduconstrained to mov e along an arbitrarily dened planelum in which motion is constr aine d to move along anIt allows a separate controller design for the sagitarbitr arily dened plane This analysis leads us a simtal xz and the lateral yz motion and simpliesple line ar dynamics the ThreeDimensional Linear Ina walking pattern generation a great dealverte d Pendulum Mode DLIPM Geometric natureof trajectories under the DLIPM and a method forwalking p attern gener ation ar e discusse d A simula Derivation of D Linear Invertedtion r esult of a walking contr ol using a dof bip edPendulum Moderobot model is also shown Introduction Motion equation of a D in vertedpendulumWhen a biped robot is supporting its body on oneleg its dominant dynamics can be represented b y aResearch on h umanoid robots and biped locomosingle inv erted pendulum which connects the supporttion is currently one of the most exciting topics in theing foot and the center of mass of the whole roboteld of robotics and there exist many ongoing pro jectsFigure depicts suc h an inverted pendulum consistAlthough some of those w orks hav e already demoning of a point mass and a massless telescopic leg Thestrated very reliable dynamic biped walking weposition of the point mass is uniquelypx y zbelieve it is still important to understand the theoretspecied by a set of state variables rpq rical background of biped locomotionA lot of researc hes dedicated to the biped walking pattern generation can be classied into t w o catexrSpgories The rst group uses precise knowledge of dyyrSrnamic parameter of a robot eg mass location of cenzrDter of mass and inertia of each link to prepare walkingpatterns Therefore it mainly relies on the accuracyS S DrrppsinsinrpSSqof the model data Contrary the second group uses limited knowledgeLet be the actuator torque and force assorp fof dynamics eg location of total center of mass totalciated with the state variables With theserp rangular momentum etc Since the con troller knowsinputs the equation of motion of the D inverted penlittle about the system structure this approach muchdulum in Cartesian coordinates is given as followsrelies on a feedback control In this paper w e tak e a standpoint of the secondxrTapproach and introduce a new modeling which repmy Jpresents a robot dynamics with limited parametersAAAzfmg0-7803-6612-3/01/$10.00 2001 IEEEi239D Linear In v ertedPendulum ModeAlthough the moving pattern of the pendulum hasv ast possibilities we want to select a class of motionthat would be suitable for walking For this reason weapply constraints to limit the motion of the pendulumThe rst constraint limits the motion in a plane withgiven normal vector and z intersectionk kxyzczkxkyzxycF or a robot walking on a rugged terrain the normalv ector should match the slope of the ground and thez intersection should be the expected average distanceof the center of the robots mass from the ground F orfurther calculation we prepare the second derivativesFigure D Pendulumof zkxkyxywhereis the mass of the pendulum andis gravit ymgSubstituting these constraints into equations andacceleration The structure of the Jacobian J is w e obtain the dynamics of the pendulum underthe constraints F rom straightforward calculations weprCpSpgetJ rCrSrgkqyyxyxyurArCSDrCSD DrrppzczcmzcCrcoscos Crppwhereare new virtual inputs which are introu urpgkxxxy xyupzczcmzcT o erase the inv ersed Jacobian that appears in Tduced to compensate input nonlinearity let us multiply the matrix Jfrom the leftrCrCSDrrrxrurCrmrCprCSDppyDCpAASpSrDzpupDrrCSrrpmgrCSDppIn the case of the w alking on a atplanewe canset the horizontal constraint plane kx kyAAfDand we obtainUsing the rst ro w of this equation and multiplyinggDCrwe getyyurzcmzcmrDyrSz rrrSmg rxxupCrzcmzcDgBy substituting kinematic relationship of equationsIn the case of the walking on a slope or stairs and w e get a goodlooking equation that dewhere we need another constraint F romk kxyscribes the dynamics along the yaxisxy we seemzyyz rmgyxyxyuxuyrpDCrmzA similar procedure for the second row of yieldsTherefore we hav e the same dynamics of and the equation for the dynamics along the xaxisin the case of an inclined constraint plane by introducmzxxz pmgxDing the following new constraint about the inputsCpuxuy rp240Equations and are independent linearA unit mass is driven by a force vector of magnitudeequations The only parameter which go verns thosethat is proportional to the distancebetw een thefrdynamics is ie the z intersection of the constraintmass and the origin The force magnitude can be diszcplane and the inclination of the plane never aects thetributed intoandelement as followsxyhorizontal motion Note that the original dynamicsw ere nonlinear and we derived linear dynamics withygout using any approximationffy yLet us call this the ThreeDimensional Linear Inrzcxgv erted Pendulum Mode DLIPM The rst authorxffx and Tani introduced a tw odimensional version of thisrzcdynamics mode in and Hara Yokoka w a andEquation reminds us the celestial mechanicsSadao extended it to three dimensions in the case ofunder the gravity eld In this case the force magnizero input torque in tude iskGfGr Nature of the D Linear Inv ertedPendulum Modewhereis a parameter determined from the gravitykGconstant and the mass of the gra vit y source Bothin the equations and the force vectors areIn this section w e examine nature of tra jectoriesparallel to the position vectors from the origin to theunder the DLIPM with zero input torques urmass This results wellknown Keplers second law ofup planetary motion areal velocit y conservationgyyLet us see how the force of gravit y can be separatedzcgintoanddirectionxyxxzcxkxkGGWith a given initial condition these equations determine a tra jectory in D space Figure sho ws tw oexamplesfGx rrxyykykGGfGy rrxy10.80.6z0.40.200.50y-0.5-0.50x0.5Figure D Linear Inverted Pendulum Mode Similarity and dierence with gravityeldWe can regard that equations and represen t a force eld for a unit massgSinceaectsandaects we must alwa ysxfyfGyGxtreat these tw o equations as a set Contrarily thexandelement of the DLIPM can be treated indeypendently at all times This gives us great advan tagesin analyzing and in designing walking patterns as wewill see in the following sections Geometry of the tra jectoryYY'O(v, v)yx(x, y)I X'XfrFigure DLIPM proje cted onto XY planezc241Figure shows a DLIPM tra jectory which is profollowing condition must be satised Since B jected on to X Y plane Motions along Y and X arerarely happens we do not consider eq and go v erned by the equations and respectively By integrating each equation we obtain a time invarigzxyx y can t parameter named theorbital energyUsing this equation w e can calculate the geometricgshape of the DLIPM By substituting eq andEyyyzcgExxxgzxy xyczcIn Figure it is sho wn another coordinate frameXYwhich rotates from the original frame X Y The nal form is a simple quadratic equationSince the DLIPM is a dynamics under the centralforce eld as discussed in the last section the newggxy frame XYalso gives a proper representation of thezEzEcxcy E gzxE gzyxcycDLIPM The new orbital energy is calculated asSince E and E eq forms a hyperbolicxygcurveEcx syc x s yxzcHyperbolic curves also appear in Kepler motiongand one of its examples is aof theswing by ightEsx cys x c y yzcV o y ager spacecraft approached Jupiter in where ccos ssin By simple calculations wetra jectory from a totally dierent potential eldIt seems in teresting that w e obtained same shape ofcan verify that the total energy of the system does notchange by the wa y of the coordinate settingE E E E constantxyxyD walking pattern generationWhen the Yaxis corresponds to the axis of sym Outlinemetry like in Figure Eand Ebecome maximumxyand minimum respectively Therefore w e can calFigure sho ws an example of a w alking patterncalculate the axis of symmetry b y solving the followingbased on the DLIPM In this paper we assume supequationport leg exc hange of constant pace T o change theEx Asc B sc placements sho wn as small circles in Figure w alking speed and direction the robot modies footWhen we pro ject the walking motion onto X and Y whereaxis we observe decoupled motions gov erned by equaAgzxyx ycthe D version of the Linear Inv erted Pendulum ModeBgzxy xycthat we described in the former paper tions and Figure Each motion follo wsThe solution is when B Pattern generation along a local axis tanAB Now the problem becomes a control of the motionalong X or Y axis for each step Let us assume thatwhen B A the robot is repeating single support phase of duration Tand double support phase of duration TsdblFigure illustrates successive steps in X directionnnwhen B A iiThe initial body state x v and thenal body atany xnnstate x v hav e the following relationshipffIf the Y axis happen to be already the axis of syminxfCTSxTcTnmetry should be zero F rom equations and vSTCTcTvifnn2420.150.1]m[Y0.050-0.05CTcoshTT SsinhTTscTscT o control the walking speed we must c hange thefoothold point E to modify the initial condition ofthe support phase DF When the desired statusat the end of support point F is given as wex vddcan dene error norm with certain weight asa b NaxxbvvddffBy substituting eq into this equation and calculating the foothold ofxwhich minimizes we obNi00.050.10.15X [m]Y [m]0.20.250.3]m[Y0.20.10-0.3-0.2-0.100.10.20.30.4X [m]Figure Walking p attern gener ate dfrom the DLIPM A robot takes seven steps from left to rightMotion of the tip of the inverte dp endulum is shownas pieces of hyperb olic curves solid lines We assume that the robot is in double support and moveson a straight line betwe eneach support phase dotte dlines Smal l circles ar e fo ot places and dashe dlinesindic ate primary axes of hyperb olic curvex aCxSTvbSTvCvD TdTcdTcdTfTiDaCbSTTTcTz (1) vi(2) (1) = vvif(2) vfBD D' F A C E x (1) xi(1) xfd (2) xi(2) xf0.511.522.533.540.511.52time [s]2.533.54Figure Two successive steps in the sagittal planeare il lustr ated The body travels from B to D in thesinglele gsupport phase then moves from D to D inthe doubleleg support phase with constant speed vfand then travels D to F in the second singlesupportphase While the body moves from B to D the tip ofthe swing leg travels fr om A to E dashed curved lineBy changing the position of E we can control the nalbody speed vat the point F Except for our insertedfdoublesupport phase this is the same ide a pr op ose dFigure X Y position and velocity in a walk of the gby Miura and Shimoyama ure The tick line shows x motion and the thin lineshows y motion The p osition graphs jump the distanc e of the step length at each support foot exchangeT o determine the foothold E we also need the distance that body tra v els in the double support Thesinc e we are taking an origin at a fo ot place of eachsupport The vertical dotte d lines indicate the time ofdistance isthe supporting mode change In this walking p atterndvTdblfthe robot is taking s for single support and s forThe motion of the swing leg is planned to arrive atdouble supportthe point E at the expected touchdown time dashedcurve from A to E in Figure 2430.10.05]m[y,x0-0.05-0.100.20.10-0.1-0.20]s/m[yv,xv Control of walking directionT o specify the walking direction we rotates the reference X Y frame for step to step See Figure Thecon trol of eq automatically shapes the robot motion to follo w the giv en frame of reference Figure illustrates a w alking along a circleIn this walkingpattern the reference frame is rotated rad sothat the robot returns the stating point with steps0.50.40.3]m[Y0.20.10-0.3-0.2-0.100.10.20.30.4X [m]Figure Walk on a circleFigure A Humanoid Robot model T otal mass ofthe robot is kgs and the center of mass is lo cate dm in the height from the oor level The rob othas dof for each leg but the arms and the head donot c ontain any joints modeled as one block withthebody Simulation of h umanoidwalkingT able Important link parametersThe DLIPM has been already applied to a nonywidth of pelvislength mh umanoid type biped robot that has telescopic legsThough the robot could perform D dynamic bipedthigh linkschank linkw alking without using prepared tra jectory walking dianklesole distancerection control was not yet considered In this paper w e examine a simulated h umanoidrobot whose motion is generated b y the DLIPMFigure sho ws the outlook of the robot used in thesimulation The robot has doffor eac h leg butthe arms and the head are modeled as one block withthe body T able shows important physical parameters that was determined b y considering an actualmechanical design The size of the foot is mm lengthwidth T otal mass of the robot isfoot lengthfoot widthweight kgbodycrotch ya wcrotch rollthighshankankle pitchfootkgs and the center of mass is located m in themoment of inertia of the body kgmheight from the oor levelF or the dynamic simulation we used theOpenHRPsimulatorwhich w as developed in METIs h umanoidrobotics pro ject The walking pattern of Figure IxxIyyIzzw as used as a reference input to the robot and the cenydistance betw een the right and left hip jointster of mass of the robot body was controlled to followthis To walk on a at oor the body height was kept244 constant The reference joint angles and speeds werecalculated by inv erse kinematics so thatthepositionand the velocity of the feet with respect to the bodycorrespondtothe specied motion Finally the reference joint angles and speeds were realized by a PDfeedback controllerF urthermore w e must consider the body and thefoot rotation aroundaxis Although the walkingzpattern of Figure is assuming an ideal robot thatcan step tow ards any direction at all time the robotof Figure has the limit of join t angles and it musta v oid collision betw een the left and the right legs Forthis reason we designed additional pattern for the footorien tation with respect to the body so that the bodyfaces instantaneous walking direction in the middle ofeac h supportFigure shows the snapshots of the simulation andFigure sho ws the body tra jectory and foot placements We see that the tra jectory of the h umanoidrobot did not close a circle at the th steps Thiscauses from a small foot slip occurred in each supportthe friction coecient between the foot and the oor In Figure we can see the slip as blur ofthe footholds that should be xed points At the sametime the foot slips aroundaxis and that diverted thezrobot from the planned walking directionDespite of the error caused by slip of the feet it isimportant that a stable dynamic walk was realized bythe DLIPM tra jectories We believ ethe error canbe reduced by introducing additional feedback controlFigure Snapshots of humanoid simulatorto the DLIPM system F or example F ujimoto andKawamura proposed a feedback compensation of ya waxis rotation by arm swing motion By introducingsuc h methods w e can expect more accurate walkingdirection control Summary and ConclusionsIn this paper we introduced the ThreeDimensionalLinear Inv erted P endulum Mode DLIPM that isuseful for walking control in a D space We discusseda nature of the DLIPM and proposed a simple walking pattern generation that can specify walking speedand direction The walking pattern was tested on a dof h umanoid robot in a dynamic simulator and adynamically stable walk along a circle was successfullysimulatedAcknowledgmentsThis researc h was supported b y the HumanoidRobotics Pro ject of the Ministry of Economy Trade0.70.60.50.4]m[y0.30.20.10245a0.6a0.5a0.4a0.3a0.2a0.100.10.20.3 x [m]Figure Hip motion and foot plac e and Industry through the Manufacturing Science and Sano A and Furusho J Realization of NaturalT ec hnology CenterDynamic Walking Using The Angular MomentumReferencesInformation Proc of ICRA Cincinnati pp Nishiwaki K Nagasaka K Inaba M and Inoue H Generation of reactiv e steppingmotion F urusho J and Sano A Sensorbased con trolfor a h umanoid by dynamically stable mixture ofof a ninelink biped Int J Robotics Researchpredesigned motions Proc of Int Conf onv ol no pp Apr Systems Man and Cybernetics No VI pp F ujimoto Y and Kaw amura A Three Dimen sional Digital Simulation and Autonomous Walk Pratt J Dilworth P and Pratt G Virtualing Control for EightAxis Biped Robot Proc ofModel Control of a Bipedal Walking Robot Procthe ICRA pp of the ICRA pp F ujimoto Y and Kaw amura A Robust Control Raibert M CamL egged Robots that Balanceof Biped Walking Robot with Ya w Moment Combridge MA MIT Press pensation b y Arm Motion Proc Asian ControlConference ASCC v ol ppSeoul Y amaguchi JSogaE Inoue S and TakanishiA Development of a Bipedal Humanoid Robot Control Methodof Whole Body Cooperative Dy HaraK Yokok a waR and Sadao K Dynamicnamic Biped Walking Proc of the ICRAControl of Biped Locomotion Robot for Disturpp bance on Lateral Plane Proc of The Japan Soci V o y ager Pro ject Home Pageety of Mechanical Engineers nd kansai meetingpp in Japaneseh ttpvraptorjplnasagovv o y agervo y a ger h tml Hirai K HiroseM Haika wa Y and Takethe SD biped robot to climb sloping surface Zheng YF and Shen J Gait syn thesis fornak a T The Development of Honda HumanoidIEEE T rans Robotics and Automation v olRobot Proc of the ICRA ppno pp Huang Q Ka jita S etal A High Stability Smooth Walking P attern for a Biped RobotProc of the ICRA pp Ka jitaS and Tani K Study of Dynamic BipedLocomotion on Rugged Terrain Proc of the ICRA pp Ka jitaS MatsumotoO and Saigo M Realtime D w alking pattern generation for a bipedrobot with telescopic legs Proc of the ICRA pp KanehiroF MiyataN Ka jitaS FujiwaraKHiruka w aH NakamuraY Y amaneK etalVirtual Humanoid Robot Platform to DevelopControllers of Real Humanoid Robots withoutP orting Proc of the IROS to apprear MiuraH and Shimoy ama I Dynamic walk ofa biped International Journal of Robotics Researc h Vol No pp 246
</think>